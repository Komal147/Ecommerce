{% load static %}
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>winter</title>
    <link rel="icon" href="{% static 'myapp/image/favicon.png' %}">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'myapp/css/bootstrap.min.css' %}">
    <!-- animate CSS -->
    <link rel="stylesheet" href="{% static 'myapp/css/animate.css' %}">
    <!-- owl carousel CSS -->
    <link rel="stylesheet" href="{% static 'myapp/css/owl.carousel.min.css' %}">
    <!-- font awesome CSS -->
    <link rel="stylesheet" href="{% static 'myapp/css/all.css' %}">
    <link rel="stylesheet" href="{% static 'myapp/css/nice-select.css' %}">
    <!-- flaticon CSS -->
    <link rel="stylesheet" href="{% static 'myapp/css/flaticon.css' %}">
    <link rel="stylesheet" href="{% static 'myapp/css/themify-icons.css' %}">
    <!-- font awesome CSS -->
    <link rel="stylesheet" href="{% static 'myapp/css/magnific-popup.css' %}">
    <!-- swiper CSS -->
    <link rel="stylesheet" href="{% static 'myapp/css/slick.css' %}">
    <!-- swiper CSS -->
    <link rel="stylesheet" href="{% static 'myapp/css/price_rangs.css' %}">
    <!-- style CSS -->
    <link rel="stylesheet" href="{% static 'myapp/css/style.css' %}">
</head>
<body class="bg-white">
    <!--::header part start::-->
    <header class="main_menu home_menu">
        <div class="container-fluid">
            <div class="row align-items-center justify-content-center">
                <div class="col-lg-11">
                    <nav class="navbar navbar-expand-lg navbar-light">
                        <a class="navbar-brand" href="{% url 'indexpage' %}"> <img src="{% static 'myapp/image/logo.png' %}" alt="logo"> </a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse"
                            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle navigation">
                            <span class="menu_icon"><i class="fas fa-bars"></i></span>
                        </button>

                        <div class="collapse navbar-collapse main-menu-item" id="navbarSupportedContent">
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a class="nav-link" href="{% url 'indexpage' %}">Home</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="{% url 'categorypage' %}">Category</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="{% url 'loginpage' %}">Login</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="{% url 'cartpage' %}">Shopping cart</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="{% url 'contactpage' %}">Contact</a>
                                </li>
                            </ul>
                        </div>
                        <div class="hearer_icon d-flex">
                            <div class="dropdown cart">
                                <a class="dropdown-toggle" href="#" id="navbarDropdown3" role="button"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="ti-bag"></i>
                                </a>
                                <!-- <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <div class="single_product">
    
                                    </div>
                                </div> -->
                            </div>
                            <a id="search_1" href="javascript:void(0)"><i class="ti-search"></i></a>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
        <div class="search_input" id="search_input_box">
            <div class="container ">
                <form class="d-flex justify-content-between search-inner">
                    <input type="text" class="form-control" id="search_input" placeholder="Search Here">
                    <button type="submit" class="btn"></button>
                    <span class="ti-close" id="close_search" title="Close Search"></span>
                </form>
            </div>
        </div>
    </header>
    <!-- Header part end-->
    
    <!--================Home Banner Area =================-->
    <!-- breadcrumb start-->
    <section class="breadcrumb breadcrumb_bg">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-12">
                    <div class="breadcrumb_iner">
                        <div class="breadcrumb_iner_item">
                            <p>Home / Shopping Cart</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- breadcrumb start-->
    <section class="cart_area section_padding">
        <div class="container">
          <div class="cart_inner">
            <div class="table-responsive">
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Product</th>
                    <th scope="col">Price</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Total</th>
                  </tr>
                </thead>
                <tbody>
                  {% for product in all_product %}
                  <tr>
                    
                    <td>
                      {% if product.product_id.Image %}
                      <div class="media">
                        
                        <div class="d-flex">
                          
                          <img src="{{MEDIA_URL}}{{product.product_id.Image.url}}" alt="" />
                          
                        </div>
                        {% else %}
                          <p>No Image</p>
                        {% endif %}
                        <div class="media-body">
                          <p>{{product.product_id.ProductName}}</p>
                        </div>
                      </div>
                    </td>
                    <td>
                      <h5>{{product.product_id.ProductPrice}}</h5>
                    </td>
                    <td>
                      <div class="product_count">
                        <!-- <form action="{% url 'quantityhandlepage' %}" method="GET">
                          <input type="hidden" name="cart_id" value="{{product.pk}}">
                          <input type="hidden" name="minus" value="minus">
                          <button type="submit"><span class="input-number-decrement"> <i class="ti-minus"></i></span></button>
                        </form>
                        <input class="input-number" type="text" value="{{product.Quantity}}" min="0" max="10">
                        <form action="{% url 'quantityhandlepage' %}" method="GET">
                          <input type="hidden" name="cart_id" value="{{product.pk}}">
                          <input type="hidden" name="plus" value="plus">
                          <button type="submit"><span class="input-number-increment"> <i class="ti-plus"></i></span></button>
                        </form>
                         -->
                        <a id="minus"></a><a id="{{product.pk}}" class="minusbutton"><i class="ti-minus"></i></a>
                        <input class="input-number" type="text" id="quantity{{product.pk}}" value="{{product.Quantity}}" min="0" max="10">
                        <a id="plus"></a><a id="{{product.pk}}" class="plusbutton"><span class="input-number-increment"> <i class="ti-plus"></i></span></a>
                      </div>
                    </td>
                    <td id="price_id{{product.pk}}">{{product.Total_price}}
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>        
                
                  <!-- <tr>
                    <td></td>
                    <td></td>
                    <td>
                      <h5>Subtotal</h5>
                    </td>
                    <td>
                      <h5>$2160.00</h5>
                    </td>
                  </tr>
                  <tr class="shipping_area">
                    <td></td>
                    <td></td>
                    <td>
                      <h5>Shipping</h5>
                    </td>
                    <td>
                      <div class="shipping_box">
                        <ul class="list">
                          <li>
                            Flat Rate: $5.00
                            <input type="radio" aria-label="Radio button for following text input">
                          </li>
                          <li>
                            Free Shipping
                            <input type="radio" aria-label="Radio button for following text input">
                          </li>
                          <li>
                            Flat Rate: $10.00
                            <input type="radio" aria-label="Radio button for following text input">
                          </li>
                          <li class="active">
                            Local Delivery: $2.00
                            <input type="radio" aria-label="Radio button for following text input">
                          </li>
                        </ul>
                        <h6>
                          Calculate Shipping
                          <i class="fa fa-caret-down" aria-hidden="true"></i>
                        </h6>
                        <select class="shipping_select">
                          <option value="1">Bangladesh</option>
                          <option value="2">India</option>
                          <option value="4">Pakistan</option>
                        </select>
                        <select class="shipping_select section_bg">
                          <option value="1">Select a State</option>
                          <option value="2">Select a State</option>
                          <option value="4">Select a State</option>
                        </select>
                        <input class="post_code" type="text" placeholder="Postcode/Zipcode" />
                        <a class="btn_1" href="#">Update Details</a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="checkout_btn_inner float-right">
                <a class="btn_1" href="#">Continue Shopping</a>
                <a class="btn_1 checkout_btn_1" href="#">Proceed to checkout</a>
              </div> -->
            </div>
          </div>
      </section>
      <!--================End Cart Area =================-->
  <!--::footer_part start::-->
  <footer class="footer_part">
    <div class="container">
        <div class="row justify-content-between">
            <div class="col-sm-6 col-lg-2">
                <div class="single_footer_part">
                    <h4>Category</h4>
                    <ul class="list-unstyled">
                        <li><a href="#">Male</a></li>
                        <li><a href="#">Female</a></li>
                        <li><a href="#">Shoes</a></li>
                        <li><a href="#">Fashion</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-6 col-lg-2">
                <div class="single_footer_part">
                    <h4>Company</h4>
                    <ul class="list-unstyled">
                        <li><a href="">About</a></li>
                        <li><a href="">News</a></li>
                        <li><a href="">FAQ</a></li>
                        <li><a href="">Contact</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-6 col-lg-3">
                <div class="single_footer_part">
                    <h4>Address</h4>
                    <ul class="list-unstyled">
                        <li><a href="#">200, Green block, NewYork</a></li>
                        <li><a href="#">+10 456 267 1678</a></li>
                        <li><span>contact89@winter.com</span></li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-6 col-lg-4">
                <div class="single_footer_part">
                    <h4>Newsletter</h4>
                    <div id="mc_embed_signup">
                        <form target="_blank"
                            action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
                            method="get" class="subscribe_form relative mail_part">
                            <input type="email" name="email" id="newsletter-form-email" placeholder="Email Address"
                                class="placeholder hide-on-focus" onfocus="this.placeholder = ''"
                                onblur="this.placeholder = ' Email Address '">
                            <button type="submit" name="submit" id="newsletter-submit"
                                class="email_icon newsletter-submit button-contactForm">subscribe</button>
                            <div class="mt-10 info"></div>
                        </form>
                    </div>
                    <div class="social_icon">
                        <a href="#"><i class="ti-facebook"></i></a>
                        <a href="#"><i class="ti-twitter-alt"></i></a>
                        <a href="#"><i class="ti-instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="copyright_text">
                    <P><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="ti-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></P>
                </div>
            </div>
        </div>
    </div>
</footer>
<!--::footer_part end::-->

<!-- jquery plugins here-->
<script src="{% static 'myapp/js/jquery-1.12.1.min.js' %}"></script>
<!-- popper js -->
<script src="{% static 'myapp/js/popper.min.js' %}"></script>
<!-- bootstrap js -->
<script src="{% static 'myapp/js/bootstrap.min.js' %}"></script>
<!-- easing js -->
<script src="{% static 'myapp/js/jquery.magnific-popup.js' %}"></script>
<!-- swiper js -->
<script src="{% static 'myapp/js/swiper.min.js' %}"></script>
<!-- swiper js -->
<script src="{% static 'myapp/js/mixitup.min.js' %}"></script>
<script src="{% static 'myapp/js/price_rangs.js' %}"></script>
<!-- particles js -->
<script src="{% static 'myapp/js/owl.carousel.min.js' %}"></script>
<script src="{% static 'myapp/js/jquery.nice-select.min.js' %}"></script>
<!-- slick js -->
<script src="{% static 'myapp/js/slick.min.js' %}"></script>
<script src="{% static 'myapp/js/jquery.counterup.min.js' %}"></script>
<script src="{% static 'myapp/js/waypoints.min.js' %}"></script>
<script src="{% static 'myapp/js/contact.js' %}"></script>
<script src="{% static 'myapp/js/jquery.ajaxchimp.min.js' %}"></script>
<script src="{% static 'myapp/js/jquery.form.js' %}"></script>
<script src="{% static 'myapp/js/jquery.validate.min.js' %}"></script>
<script src="{% static 'myapp/js/mail-script.js' %}"></script>
<!-- custom js -->
<script src="{% static 'myapp/js/custom.js' %}"></script>


<script>
  $(document).ready(function(){
      alert("loaded")
      $(".minusbutton").click(function(){

          alert($(this).attr('id'));
          var quant_id = $(this).attr('id');
          var lnk = $(this);
          $.ajax({
              url : "{% url 'minusfunction' %}",
              type : 'GET',
              data : {'quant_id':quant_id},
              success : function(res){
                  alert(res)
                  var temp=res.qunatity
                  console.log("temp===="+temp);
                  var temp1=res.total_price
                  var temp2=res.price
                  console.log("temp2"+temp2)
                  console.log("temp1"+temp1);
                  console.log("quantity_id====="+res.quantity_id);
                  console.log("quantity ====="+res.qunatity);
                  console.log('#'+res.quantity_id);
                  //('#'+res.quantity_id).html(res.qunatity);
                  temp2.html(res.total_price);
              },
              error : function(e){}
          });
      });
  });
</script>
<script>
  $(document).ready(function(){
      alert("loaded")
      $(".plusbutton").click(function(){
          alert($(this).attr('id'));
          var quant_id = $(this).attr('id');
          var lnk = $(this);
          $.ajax({
              url : "{% url 'plusfunction' %}",
              type : 'GET',
              data : {'quant_id':quant_id},
              success : function(res){
                  alert(res)
                  var temp=res['Quantity']
                  $('plus').replaceWith(temp)
              },
              error : function(e){}
          });
      });
  });
</script>
</body>

</html>    
